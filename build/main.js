"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),Page=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e.state={views:{active:"Home",prev:""},customStyles:"",transforms:e.get3DPosition().Home,tone:"neutral",madeFullRotation:!1},e.changeViewEvent=e.changeViewEvent.bind(e),e.chooseToneEvent=e.chooseToneEvent.bind(e),e}return _inherits(t,e),_createClass(t,[{key:"getRotationMillis",value:function(){return 500}},{key:"getViews",value:function(){return["Home","View_1","View_2","About","Menu","Contact"]}},{key:"getViewsInFlow",value:function(){return["Home","View_1","View_2","About"]}},{key:"getViewsOutOfFlow",value:function(){return["Menu","Contact"]}},{key:"getViewIndex",value:function(e,t){var a=this.getViewsInFlow(),i=a.indexOf(e);return console.log("index",i,a[i]),i>a.length?a[0]:0>i?a[this.getViewsInFlow().length-1]:e}},{key:"getStyles",value:function(){return{width:"100%",height:"100%",transition:"transform 0.5s ease",transformStyle:"preserve-3d",transform:"rotateX(0deg) rotateY(0deg) translateX(50%) translateZ(0px)"}}},{key:"get3DPosition",value:function(){return{Home:{rotateX:0,rotateY:0,translateX:"0%",translateY:"0%",translateZ:"0vw"},View_1:{rotateX:0,rotateY:-90,translateX:"-50%",translateY:"0%",translateZ:"50vw"},View_2:{rotateX:0,rotateY:-180,translateX:"0%",translateY:"0%",translateZ:"100vw"},About:{rotateX:0,rotateY:-270,translateX:"50%",translateY:"0%",translateZ:"50vw"},Menu:{rotateX:-90,rotateY:0,translateX:"0%",translateY:"50%",translateZ:"50vh"},Contact:{rotateX:90,rotateY:0,translateX:"0%",translateY:"-50%",translateZ:"50vh"}}}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.handleKeyPress()}},{key:"fullRotationOffset",value:function(){if(this.state.madeFullRotation===!0)return 0;var e=this.getViewsInFlow();return 0===e.indexOf(this.state.views.active)&&e.indexOf(this.state.views.prev)===e.length-1?360:e.indexOf(this.state.views.active)===e.length-1&&0===e.indexOf(this.state.views.prev)?-360:0}},{key:"willMakeFullRotation",value:function(){if(this.state.madeFullRotation===!0)return!1;var e=this.getViewsInFlow();return 0===e.indexOf(this.state.views.active)&&e.indexOf(this.state.views.prev)===e.length-1?"right":e.indexOf(this.state.views.active)===e.length-1&&0===e.indexOf(this.state.views.prev)?"left":!1}},{key:"silentRotation",value:function(){setTimeout(function(){this.setState({customStyles:{transition:"none"},madeFullRotation:!0})}.bind(this),this.getRotationMillis())}},{key:"chooseToneEvent",value:function(e){this.setState({tone:e.target.getAttribute("value")})}},{key:"handleKeyPress",value:function(){var e=this;console.log("handling"),$(document).keyup(function(t){console.log(t.keyCode),37===t.keyCode?$("."+e.state.views.active+" .arrow-circle--prev").trigger("click"):38===t.keyCode?$(".MenuIcon i").eq(0).trigger("click"):39===t.keyCode?$("."+e.state.views.active+" .arrow-circle--next").trigger("click"):40===t.keyCode&&$(".contactIcon i").eq(0).trigger("click")})}},{key:"changeViewEvent",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?e.target.getAttribute("data-viewid"):arguments[1];console.log("view tried to be changed: ",e,t,this.getViews()),"number"==typeof t&&(t=this.getViews()[t]),t===this.state.views.active&&(t=this.state.views.prev);var a=this.state.views.active;this.setState({views:{active:t,prev:a},customStyles:!1,madeFullRotation:!1})}},{key:"render",value:function(){console.log("active: ",this.state.views.active);var e=this.getStyles(),t=this.get3DPosition()[this.state.views.active],a=this.willMakeFullRotation();a&&(t=Object.assign({},t),t.rotateY="right"===a?-360:90,this.silentRotation()),e.transform="rotateX("+t.rotateX+"deg) rotateY("+t.rotateY+"deg) translateX("+t.translateX+")translateY("+t.translateY+")translateZ("+t.translateZ+")",this.state.customStyles&&Object.assign(e,this.state.customStyles);var i=this.getViews().map(function(e,t){var a=View[e];return React.createElement(a,{"data-viewid":e,views:this.state.views,viewFlow:this.getViewsInFlow(),clickAction:this.changeViewEvent,tone:this.state.tone,key:t,viewIndex:t})}.bind(this));return React.createElement("div",{className:"page-container"},React.createElement("div",{style:e,className:this.state.tone},i))}}]),t}(React.Component),View=React.createClass({displayName:"View",render:function(){return React.createElement("div",null," 'View' ")}});View.Header=React.createClass({displayName:"Header",getMenuClass:function(){return"Menu"!==this.props.currentView?"fa-bars":"fa-close"},getContactClass:function(){return"Contact"!==this.props.currentView?"fa-envelope":"fa-close"},render:function(){var e=this;return React.createElement("header",null,React.createElement("a",{className:"MenuIcon",onClick:function(t){return e.props.clickAction(t,4)}},React.createElement("i",{className:"fa "+this.getMenuClass()})),React.createElement("h1",null,this.props.currentView.replace(/_|-/g," ")),React.createElement("a",{className:"contactIcon",onClick:function(t){return e.props.clickAction(t,5)}},React.createElement("i",{className:"fa "+this.getContactClass()})))}});var NavArrows=React.createClass({displayName:"NavArrows",getParentIndex:function(){return this.props.viewFlow.indexOf(this.props.currentView)},getActiveIndex:function(){return this.props.viewFlow.indexOf(this.props.views.active)},getMovement:function(){return this.getParentIndex()+1===this.getActiveIndex()?"moving-right":this.getParentIndex()-1===this.getActiveIndex()?"moving-left":""},getNext:function(){var e=this.getParentIndex()+1;return e<=this.props.viewFlow.length-1?e:0},getPrev:function(){var e=this.getParentIndex()-1;return e>=0?e:this.props.viewFlow.length-1},getCubeFace:function(){var e=this.props.viewFlow.indexOf(this.props.views.active);return this.props.viewIndex==e+1?"right-face":this.props.viewIndex==e-1?"left-face":""},render:function(){var e=this.getPrev(),t=this.getNext(),a=this.getCubeFace();return React.createElement("div",{className:this.getMovement()},React.createElement("div",{"data-viewid":e,onClick:function(t){this.props.clickAction(t,e,"prev")}.bind(this),className:"arrow-circle arrow-circle--prev "+a},React.createElement("i",{className:"fa fa-2x fa-arrow-left"})),React.createElement("div",{"data-viewid":t,onClick:function(e){this.props.clickAction(e,t,"next")}.bind(this),className:"arrow-circle arrow-circle--next "+a},React.createElement("i",{className:"fa fa-2x fa-arrow-right"})))}});View.Home=React.createClass({displayName:"Home",render:function(){return React.createElement("section",{className:this.props["data-viewid"]},React.createElement(View.Header,{currentView:this.props["data-viewid"],clickAction:this.props.clickAction}),React.createElement("section",null),React.createElement(NavArrows,{views:this.props.views,viewFlow:this.props.viewFlow,currentView:this.props["data-viewid"],viewIndex:this.props.viewIndex,clickAction:this.props.clickAction}))}}),View.Contact=React.createClass({displayName:"Contact",render:function(){return React.createElement("section",{className:this.props["data-viewid"]},React.createElement(View.Header,{currentView:this.props["data-viewid"],clickAction:this.props.clickAction}),React.createElement("section",null,React.createElement("ul",{className:"contactList flex"},React.createElement("li",{className:"flex__square"},React.createElement("a",{href:"@"},React.createElement("i",{className:"fa fa-3x fa-phone"}),React.createElement("h3",null," Phone "))),React.createElement("li",{className:"flex__square"},React.createElement("a",{href:"#"},React.createElement("i",{className:"fa fa-3x fa-envelope"}),React.createElement("h3",null," email "))),React.createElement("li",{className:"flex__square"},React.createElement("a",{href:"#"},React.createElement("i",{className:"fa fa-3x fa-linkedin"}),React.createElement("h3",null," LinkedIn "))))))}}),View.Feed=React.createClass({displayName:"Feed",render:function(){var e=FeedData.map(function(e,t){return React.createElement(View.Feed.Article,{article:e,key:t})});return React.createElement("section",{className:this.props["data-viewid"]},React.createElement(View.Header,{currentView:this.props["data-viewid"],clickAction:this.props.clickAction}),React.createElement("section",null,e,"'Feed'"),React.createElement(NavArrows,{views:this.props.views,viewFlow:this.props.viewFlow,currentView:this.props["data-viewid"],viewIndex:this.props.viewIndex,clickAction:this.props.clickAction}))}}),View.Feed.Article=React.createClass({displayName:"Article",render:function(){return React.createElement("article",null,React.createElement("h2",null,this.props.article.title),React.createElement("img",{src:this.props.article.imageUrl}),React.createElement("p",null," ",this.props.article.excerpt," "))}}),View.Menu=React.createClass({displayName:"Menu",render:function(){return React.createElement("section",{className:this.props["data-viewid"]},React.createElement(View.Header,{currentView:this.props["data-viewid"],clickAction:this.props.clickAction}),React.createElement(View.Menu.List,{clickAction:this.props.clickAction}),React.createElement("h4",{className:"menu__deco-text1 menu__deco-text"},"3D Menu!"),React.createElement("h4",{className:"menu__deco-text2 menu__deco-text"},"Whoa!"),React.createElement("h4",{className:"menu__deco-text3 menu__deco-text"},"Gimmicky!"))}}),View.Menu.List=React.createClass({displayName:"List",getInitialState:function(){return{activeView:!1,rotation:0}},getOptions:function(){return[{title:"Home",openView:"Home"},{title:"View 1",openView:"View_1"},{title:"View 2",openView:"View_2"},{title:"About",openView:"About"},{title:"Contact",openView:"Contact"}]},handleClick:function(e){this.props.clickAction(e)},render:function(){var e=this.getOptions().map(function(e,t){var a={transform:"rotateY("+this.state.rotation+"deg)",transition:"transform "+Math.random()+"s ease"};return React.createElement("li",{className:"menu__option",style:a,"data-viewid":e.openView,onClick:this.handleClick,key:t},e.title)}.bind(this));return React.createElement("ul",{className:"menu"},e)}}),View.NeatList=React.createClass({displayName:"NeatList",render:function(){console.log(this.props);var e=this.props.data.map(function(e,t){return React.createElement("li",{className:"flex__square",key:t},React.createElement("img",{src:e.imageUrl,alt:e.name+" logo",className:e.name+"-icon flex__icon"}),React.createElement("h3",null,e.name),React.createElement("p",null," ",e.decription))});return React.createElement("ul",{className:"flex"},e)}}),View.View_2=React.createClass({displayName:"View_2",frameworkData:[],render:function(){return React.createElement("section",{className:this.props["data-viewid"]},React.createElement(View.Header,{currentView:this.props["data-viewid"],clickAction:this.props.clickAction}),React.createElement("section",null,React.createElement(View.NeatList,{data:this.frameworkData})),React.createElement(NavArrows,{views:this.props.views,viewFlow:this.props.viewFlow,currentView:this.props["data-viewid"],viewIndex:this.props.viewIndex,clickAction:this.props.clickAction}))}}),View.View_1=React.createClass({displayName:"View_1",languageData:[],render:function(){return React.createElement("section",{className:this.props["data-viewid"]},React.createElement(View.Header,{currentView:this.props["data-viewid"],clickAction:this.props.clickAction}),React.createElement("section",null,React.createElement(View.NeatList,{data:this.languageData})),React.createElement(NavArrows,{views:this.props.views,viewFlow:this.props.viewFlow,currentView:this.props["data-viewid"],viewIndex:this.props.viewIndex,clickAction:this.props.clickAction}))}}),View.About=React.createClass({displayName:"About",render:function(){return React.createElement("section",{className:this.props["data-viewid"]},React.createElement(View.Header,{currentView:this.props["data-viewid"],clickAction:this.props.clickAction}),React.createElement("section",null),React.createElement(NavArrows,{views:this.props.views,viewFlow:this.props.viewFlow,currentView:this.props["data-viewid"],viewIndex:this.props.viewIndex,clickAction:this.props.clickAction}))}});var CubeSides=React.createClass({displayName:"CubeSides",render:function(){return React.createElement("div",{className:"cube"},React.createElement("div",{className:"face front"},"  ",this.props.front),React.createElement("div",{className:"face left"},"   ",this.props.left," "),React.createElement("div",{className:"face right"},"  ",this.props.Right),React.createElement("div",{className:"face back"},"   ",this.props.back," "),React.createElement("div",{className:"face top"},"    ",this.props.top,"  "),React.createElement("div",{className:"face bottom"}," ",this.props.bottom))}});ReactDOM.render(React.createElement(Page,null),document.getElementById("target"));
//# sourceMappingURL=main.js.map
